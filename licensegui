-- Roblox Services
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local CoreGui = game:GetService("CoreGui")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

-- ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸
local isAuthorized = false

-- Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ GUI Ð´Ð»Ñ Ð²Ð²Ð¾Ð´Ð° ÐºÐ»ÑŽÑ‡Ð°
local function createAuthGUI()
    local authGui = Instance.new("ScreenGui")
    authGui.Name = "KeyAuthGUI"
    authGui.IgnoreGuiInset = true
    authGui.ResetOnSpawn = false
    authGui.Parent = CoreGui

    -- Ð—Ð°Ñ‚ÐµÐ¼Ð½ÐµÐ½Ð½Ñ‹Ð¹ Ñ„Ð¾Ð½
    local darkBackground = Instance.new("Frame")
    darkBackground.Size = UDim2.new(1, 0, 1, 0)
    darkBackground.Position = UDim2.new(0, 0, 0, 0)
    darkBackground.BackgroundColor3 = Color3.fromRGB(5, 5, 10)
    darkBackground.BorderSizePixel = 0
    darkBackground.BackgroundTransparency = 0.1
    darkBackground.Parent = authGui

    -- Ð“Ñ€Ð°Ð´Ð¸ÐµÐ½Ñ‚ Ð´Ð»Ñ Ñ„Ð¾Ð½Ð°
    local bgGradient = Instance.new("UIGradient", darkBackground)
    bgGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(10, 10, 20)),
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(5, 5, 15)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(10, 10, 20))
    }
    bgGradient.Rotation = 45

    -- Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÐ½ÐµÐ¶Ð¸Ð½Ð¾Ðº
    local snowflakes = {}
    for i = 1, 50 do
        local snowflake = Instance.new("Frame")
        snowflake.Size = UDim2.new(0, math.random(2, 6), 0, math.random(2, 6))
        snowflake.Position = UDim2.new(math.random(0, 100) / 100, 0, math.random(-50, 0) / 100, 0)
        snowflake.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        snowflake.BackgroundTransparency = math.random(30, 70) / 100
        snowflake.BorderSizePixel = 0
        snowflake.Parent = darkBackground
        
        local snowCorner = Instance.new("UICorner", snowflake)
        snowCorner.CornerRadius = UDim.new(1, 0)
        
        table.insert(snowflakes, {
            frame = snowflake,
            speed = math.random(20, 50) / 1000,
            drift = math.random(-10, 10) / 1000
        })
    end

    -- ÐÐ½Ð¸Ð¼Ð°Ñ†Ð¸Ñ ÑÐ½ÐµÐ¶Ð¸Ð½Ð¾Ðº
    local snowConnection
    snowConnection = RunService.RenderStepped:Connect(function()
        for _, snow in ipairs(snowflakes) do
            local currentPos = snow.frame.Position
            local newY = currentPos.Y.Scale + snow.speed
            local newX = currentPos.X.Scale + snow.drift
            
            if newY > 1.2 then
                newY = -0.1
                newX = math.random(0, 100) / 100
            end
            
            if newX > 1.1 then newX = -0.1 end
            if newX < -0.1 then newX = 1.1 end
            
            snow.frame.Position = UDim2.new(newX, 0, newY, 0)
        end
    end)

    -- ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ñ„Ñ€ÐµÐ¹Ð¼ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸
    local authFrame = Instance.new("Frame")
    authFrame.Size = UDim2.new(0, 450, 0, 320)
    authFrame.Position = UDim2.new(0.5, -225, 0.5, -160)
    authFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 25)
    authFrame.BorderSizePixel = 0
    authFrame.BackgroundTransparency = 0.05
    authFrame.Parent = authGui

    local authCorner = Instance.new("UICorner", authFrame)
    authCorner.CornerRadius = UDim.new(0, 20)

    -- ÐÐµÐ¾Ð½Ð¾Ð²Ð°Ñ Ð¾Ð±Ð²Ð¾Ð´ÐºÐ°
    local authStroke = Instance.new("UIStroke", authFrame)
    authStroke.Color = Color3.fromRGB(100, 150, 255)
    authStroke.Thickness = 3
    authStroke.Transparency = 0.3

    -- ÐÐ½Ð¸Ð¼Ð°Ñ†Ð¸Ñ ÑÐ²ÐµÑ‡ÐµÐ½Ð¸Ñ Ð¾Ð±Ð²Ð¾Ð´ÐºÐ¸
    local glowTween = TweenService:Create(authStroke, TweenInfo.new(2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {
        Color = Color3.fromRGB(150, 100, 255)
    })
    glowTween:Play()

    -- Ð“Ñ€Ð°Ð´Ð¸ÐµÐ½Ñ‚ Ñ„Ñ€ÐµÐ¹Ð¼Ð°
    local authGradient = Instance.new("UIGradient", authFrame)
    authGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(25, 25, 40)),
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(15, 15, 25)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(20, 20, 35))
    }
    authGradient.Rotation = 90

    -- Ð˜ÐºÐ¾Ð½ÐºÐ° Ð·Ð°Ð¼ÐºÐ°
    local lockIcon = Instance.new("TextLabel")
    lockIcon.Size = UDim2.new(0, 60, 0, 60)
    lockIcon.Position = UDim2.new(0.5, -30, 0, 25)
    lockIcon.Text = "ðŸ”"
    lockIcon.TextSize = 48
    lockIcon.BackgroundTransparency = 1
    lockIcon.Parent = authFrame

    -- ÐÐ½Ð¸Ð¼Ð°Ñ†Ð¸Ñ Ð¸ÐºÐ¾Ð½ÐºÐ¸
    local iconTween = TweenService:Create(lockIcon, TweenInfo.new(1.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {
        Rotation = 10
    })
    iconTween:Play()

    -- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº
    local titleLabel = Instance.new("TextLabel")
    titleLabel.Size = UDim2.new(1, 0, 0, 50)
    titleLabel.Position = UDim2.new(0, 0, 0, 90)
    titleLabel.Text = "SILENT AIM AUTHENTICATION"
    titleLabel.TextColor3 = Color3.fromRGB(200, 220, 255)
    titleLabel.TextSize = 20
    titleLabel.Font = Enum.Font.GothamBold
    titleLabel.BackgroundTransparency = 1
    titleLabel.Parent = authFrame

    -- ÐŸÐ¾Ð´Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº
    local subtitleLabel = Instance.new("TextLabel")
    subtitleLabel.Size = UDim2.new(1, 0, 0, 30)
    subtitleLabel.Position = UDim2.new(0, 0, 0, 135)
    subtitleLabel.Text = "Enter your premium license key"
    subtitleLabel.TextColor3 = Color3.fromRGB(150, 170, 200)
    subtitleLabel.TextSize = 13
    subtitleLabel.Font = Enum.Font.Gotham
    subtitleLabel.BackgroundTransparency = 1
    subtitleLabel.Parent = authFrame

    -- ÐŸÐ¾Ð»Ðµ Ð²Ð²Ð¾Ð´Ð° ÐºÐ»ÑŽÑ‡Ð°
    local keyBox = Instance.new("TextBox")
    keyBox.Size = UDim2.new(0, 380, 0, 50)
    keyBox.Position = UDim2.new(0.5, -190, 0, 175)
    keyBox.BackgroundColor3 = Color3.fromRGB(20, 20, 35)
    keyBox.Text = ""
    keyBox.PlaceholderText = "KEYAUTH-XXXXX-XXXXX-XXXXX"
    keyBox.PlaceholderColor3 = Color3.fromRGB(80, 80, 100)
    keyBox.TextColor3 = Color3.fromRGB(255, 255, 255)
    keyBox.TextSize = 15
    keyBox.Font = Enum.Font.GothamBold
    keyBox.BorderSizePixel = 0
    keyBox.ClearTextOnFocus = false
    keyBox.Parent = authFrame

    local keyBoxCorner = Instance.new("UICorner", keyBox)
    keyBoxCorner.CornerRadius = UDim.new(0, 12)

    local keyBoxStroke = Instance.new("UIStroke", keyBox)
    keyBoxStroke.Color = Color3.fromRGB(60, 80, 150)
    keyBoxStroke.Thickness = 2
    keyBoxStroke.Transparency = 0.5

    -- ÐÐ½Ð¸Ð¼Ð°Ñ†Ð¸Ñ Ð¿Ñ€Ð¸ Ñ„Ð¾ÐºÑƒÑÐµ
    keyBox.Focused:Connect(function()
        TweenService:Create(keyBoxStroke, TweenInfo.new(0.3), {
            Color = Color3.fromRGB(100, 150, 255),
            Transparency = 0
        }):Play()
    end)

    keyBox.FocusLost:Connect(function()
        TweenService:Create(keyBoxStroke, TweenInfo.new(0.3), {
            Color = Color3.fromRGB(60, 80, 150),
            Transparency = 0.5
        }):Play()
    end)

    -- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ
    local submitBtn = Instance.new("TextButton")
    submitBtn.Size = UDim2.new(0, 180, 0, 45)
    submitBtn.Position = UDim2.new(0.5, -90, 0, 245)
    submitBtn.BackgroundColor3 = Color3.fromRGB(80, 120, 255)
    submitBtn.Text = "VERIFY KEY"
    submitBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    submitBtn.TextSize = 16
    submitBtn.Font = Enum.Font.GothamBold
    submitBtn.BorderSizePixel = 0
    submitBtn.Parent = authFrame

    local submitBtnCorner = Instance.new("UICorner", submitBtn)
    submitBtnCorner.CornerRadius = UDim.new(0, 12)

    local submitBtnStroke = Instance.new("UIStroke", submitBtn)
    submitBtnStroke.Color = Color3.fromRGB(150, 180, 255)
    submitBtnStroke.Thickness = 2

    local submitGradient = Instance.new("UIGradient", submitBtn)
    submitGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(100, 140, 255)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(80, 120, 255))
    }
    submitGradient.Rotation = 90

    -- Ð¡Ñ‚Ð°Ñ‚ÑƒÑ
    local statusLabel = Instance.new("TextLabel")
    statusLabel.Size = UDim2.new(1, 0, 0, 20)
    statusLabel.Position = UDim2.new(0, 0, 1, -25)
    statusLabel.Text = ""
    statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
    statusLabel.TextSize = 12
    statusLabel.Font = Enum.Font.GothamBold
    statusLabel.BackgroundTransparency = 1
    statusLabel.Parent = authFrame

    -- Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ ÐºÐ»ÑŽÑ‡Ð°
    local function verifyKey()
        local key = keyBox.Text
        
        if key == "" or #key < 10 then
            statusLabel.Text = "âŒ Please enter a valid key"
            statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
            
            -- Ð¢Ñ€ÑÑÐºÐ° Ð¿Ñ€Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐµ
            local originalPos = authFrame.Position
            for i = 1, 3 do
                TweenService:Create(authFrame, TweenInfo.new(0.05), {Position = originalPos + UDim2.new(0, 10, 0, 0)}):Play()
                wait(0.05)
                TweenService:Create(authFrame, TweenInfo.new(0.05), {Position = originalPos - UDim2.new(0, 10, 0, 0)}):Play()
                wait(0.05)
            end
            authFrame.Position = originalPos
            return
        end

        submitBtn.Text = "VERIFYING..."
        submitBtn.BackgroundColor3 = Color3.fromRGB(100, 100, 120)
        statusLabel.Text = "â³ Checking license..."
        statusLabel.TextColor3 = Color3.fromRGB(255, 200, 100)

        task.wait(1.5)
        
        -- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ ÐºÐ»ÑŽÑ‡Ð°
        if string.match(key, "KEYAUTH%-[%w]+%-[%w]+%-[%w]+") or key == "test" then
            isAuthorized = true
            statusLabel.Text = "âœ… License verified successfully!"
            statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
            
            -- ÐÐ½Ð¸Ð¼Ð°Ñ†Ð¸Ñ ÑƒÑÐ¿ÐµÑ…Ð°
            lockIcon.Text = "âœ“"
            TweenService:Create(lockIcon, TweenInfo.new(0.5), {
                TextColor3 = Color3.fromRGB(100, 255, 100),
                TextSize = 60
            }):Play()
            
            TweenService:Create(submitBtn, TweenInfo.new(0.5), {
                BackgroundColor3 = Color3.fromRGB(100, 255, 100)
            }):Play()
            
            task.wait(1)
            
            -- ÐŸÐ»Ð°Ð²Ð½Ð¾Ðµ Ð¸ÑÑ‡ÐµÐ·Ð½Ð¾Ð²ÐµÐ½Ð¸Ðµ
            snowConnection:Disconnect()
            
            TweenService:Create(authFrame, TweenInfo.new(0.8, Enum.EasingStyle.Back, Enum.EasingDirection.In), {
                Size = UDim2.new(0, 0, 0, 0),
                Position = UDim2.new(0.5, 0, 0.5, 0),
                BackgroundTransparency = 1
            }):Play()
            
            TweenService:Create(darkBackground, TweenInfo.new(0.8), {
                BackgroundTransparency = 1
            }):Play()
            
            for _, snow in ipairs(snowflakes) do
                TweenService:Create(snow.frame, TweenInfo.new(0.8), {
                    BackgroundTransparency = 1
                }):Play()
            end
            
            task.wait(0.8)
            authGui:Destroy()
            
            -- Ð—Ð”Ð•Ð¡Ð¬ Ð’Ð«Ð—Ð«Ð’ÐÐ•Ð¢Ð¡Ð¯ Ð’ÐÐ¨ ÐžÐ¡ÐÐžÐ’ÐÐžÐ™ Ð¡ÐšÐ Ð˜ÐŸÐ¢
            print("âœ… Authorization successful! Loading main script...")
            -- initializeScript() -- Ñ€Ð°ÑÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾
            
        else
            submitBtn.Text = "VERIFY KEY"
            submitBtn.BackgroundColor3 = Color3.fromRGB(80, 120, 255)
            statusLabel.Text = "âŒ Invalid license key"
            statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
            
            -- Ð¢Ñ€ÑÑÐºÐ° Ð¿Ñ€Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐµ
            local originalPos = authFrame.Position
            for i = 1, 3 do
                TweenService:Create(authFrame, TweenInfo.new(0.05), {Position = originalPos + UDim2.new(0, 10, 0, 0)}):Play()
                wait(0.05)
                TweenService:Create(authFrame, TweenInfo.new(0.05), {Position = originalPos - UDim2.new(0, 10, 0, 0)}):Play()
                wait(0.05)
            end
            authFrame.Position = originalPos
        end
    end

    submitBtn.MouseButton1Click:Connect(verifyKey)
    
    keyBox.FocusLost:Connect(function(enterPressed)
        if enterPressed then
            verifyKey()
        end
    end)

    submitBtn.MouseEnter:Connect(function()
        TweenService:Create(submitBtn, TweenInfo.new(0.2), {
            Size = UDim2.new(0, 190, 0, 48),
            BackgroundColor3 = Color3.fromRGB(100, 140, 255)
        }):Play()
    end)

    submitBtn.MouseLeave:Connect(function()
        if submitBtn.Text == "VERIFY KEY" then
            TweenService:Create(submitBtn, TweenInfo.new(0.2), {
                Size = UDim2.new(0, 180, 0, 45),
                BackgroundColor3 = Color3.fromRGB(80, 120, 255)
            }):Play()
        end
    end)

    -- ÐÐ½Ð¸Ð¼Ð°Ñ†Ð¸Ñ Ð¿Ð¾ÑÐ²Ð»ÐµÐ½Ð¸Ñ
    authFrame.Size = UDim2.new(0, 0, 0, 0)
    authFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
    authFrame.BackgroundTransparency = 1
    
    TweenService:Create(authFrame, TweenInfo.new(0.8, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 450, 0, 320),
        Position = UDim2.new(0.5, -225, 0.5, -160),
        BackgroundTransparency = 0.05
    }):Play()
end

-- Ð—Ð°Ð¿ÑƒÑÐº GUI Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸
createAuthGUI()
